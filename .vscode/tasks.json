{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build",
      "command": "dotnet",
      "type": "process",
      "args": [
        "build",
        "${workspaceFolder}/WatchTower/WatchTower.csproj",
        "/property:GenerateFullPaths=true",
        "/consoleloggerparameters:NoSummary;ForceNoAlign"
      ],
      "problemMatcher": "$msCompile",
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "clean",
      "command": "dotnet",
      "type": "process",
      "args": [
        "clean",
        "${workspaceFolder}/WatchTower/WatchTower.csproj"
      ],
      "problemMatcher": "$msCompile"
    },
    {
      "label": "run",
      "command": "dotnet",
      "type": "process",
      "args": [
        "run",
        "--project",
        "${workspaceFolder}/WatchTower/WatchTower.csproj"
      ],
      "problemMatcher": "$msCompile",
      "dependsOn": "build"
    },
    {
      "label": "watch",
      "command": "dotnet",
      "type": "process",
      "args": [
        "watch",
        "run",
        "--project",
        "${workspaceFolder}/WatchTower/WatchTower.csproj",
        "--non-interactive"
      ],
      "options": {
        "cwd": "${workspaceFolder}/WatchTower",
        "env": {
          "DOTNET_ENVIRONMENT": "Development",
          "DOTNET_WATCH_RESTART_ON_RUDE_EDIT": "true"
        }
      },
      "problemMatcher": {
        "base": "$msCompile",
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^dotnet watch ðŸ”¥|^Building\\.\\.\\.",
          "endsPattern": "Now listening on|Application started|Content root path"
        }
      },
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      },
      "group": "build"
    },
    {
      "label": "watch-verbose",
      "command": "dotnet",
      "type": "process",
      "args": [
        "watch",
        "run",
        "--project",
        "${workspaceFolder}/WatchTower/WatchTower.csproj",
        "--non-interactive",
        "--verbose"
      ],
      "options": {
        "cwd": "${workspaceFolder}/WatchTower",
        "env": {
          "DOTNET_ENVIRONMENT": "Development",
          "DOTNET_WATCH_RESTART_ON_RUDE_EDIT": "true"
        }
      },
      "problemMatcher": "$msCompile",
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      },
      "group": "build"
    },
    {
      "label": "check-prerequisites",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/.specify/scripts/powershell/check-prerequisites.ps1",
        "-Json",
        "-RequireTasks",
        "-IncludeTasks"
      ],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "create-new-feature",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/.specify/scripts/powershell/create-new-feature.ps1",
        "-Json",
        "${input:featureDescription}"
      ],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "update-agent-context",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/.specify/scripts/powershell/update-agent-context.ps1"
      ],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "update-agent-context-specific",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/.specify/scripts/powershell/update-agent-context.ps1",
        "-AgentType",
        "${input:agentType}"
      ],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    }
  ],
  "inputs": [
    {
      "id": "featureDescription",
      "type": "promptString",
      "description": "Enter feature description (e.g., 'Add user authentication system')"
    },
    {
      "id": "agentType",
      "type": "pickString",
      "description": "Select agent type to update",
      "options": [
        "claude",
        "gemini",
        "copilot",
        "cursor-agent",
        "qwen",
        "opencode",
        "codex",
        "windsurf",
        "kilocode",
        "auggie",
        "roo",
        "codebuddy",
        "amp",
        "shai",
        "q"
      ],
      "default": "copilot"
    }
  ]
}
